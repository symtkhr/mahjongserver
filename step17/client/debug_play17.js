const TESTPATTERN = [
// case: draw
[
"make_hand;0;1;2;2;2;4;5;5;6;6;6;7;11;11;12;13;16;17;18;18;19;19;20;20;21;23;25;27;28;31;32;32;33;33", 
"4;5;6;5;6;7;11;12;13;20;19;21;6 [sent]", 
"clear", 
"discard;DebG;", 
"discard;Deb;", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;0;1;2;2;2;11;16;17;18;18;19;20;23;25;27;28;31;32;32;33;33", 
"turn", 
"6 [sent]", 
"clear", 
"discard;DebG;11", 
"discard;Deb;", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;0;1;2;2;2;16;17;18;18;19;20;23;25;27;28;31;32;32;33;33", 
"clear", 
"discard;DebG;11", 
"discard;Deb;30", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;0;1;2;2;2;16;17;18;18;19;20;23;25;27;28;31;32;32;33;33", 
"turn", 
"16 [sent]", 
"clear", 
"discard;DebG;11;31", 
"discard;Deb;30", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;0;1;2;2;2;16;17;18;18;19;20;23;25;27;28;32;32;33;33", 
"clear", 
"discard;DebG;11;31", 
"discard;Deb;30;30", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;0;1;2;2;2;16;17;18;18;19;20;23;25;27;28;32;32;33;33", 
"turn", 
"16 [sent]", 
"clear", 
"discard;DebG;11;31;32", 
"discard;Deb;30;30", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;0;1;2;2;2;16;17;18;18;19;20;23;25;27;28;32;33;33", 
"clear", 
"discard;DebG;11;31;32", 
"discard;Deb;30;30;1", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;0;1;2;2;2;16;17;18;18;19;20;23;25;27;28;32;33;33", 
"turn", 
"1 [sent]", 
"clear", 
"discard;DebG;11;31;32;0", 
"discard;Deb;30;30;1", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;1;2;2;2;16;17;18;18;19;20;23;25;27;28;32;33;33", 
"clear", 
"discard;DebG;11;31;32;0", 
"discard;Deb;30;30;1;4", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;1;2;2;2;16;17;18;18;19;20;23;25;27;28;32;33;33", 
"turn", 
"1 [sent]", 
"clear", 
"discard;DebG;11;31;32;0;1", 
"discard;Deb;30;30;1;4", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;2;2;2;16;17;18;18;19;20;23;25;27;28;32;33;33", 
"clear", 
"discard;DebG;11;31;32;0;1", 
"discard;Deb;30;30;1;4;4", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;2;2;2;16;17;18;18;19;20;23;25;27;28;32;33;33", 
"turn", 
"1 [sent]", 
"clear", 
"discard;DebG;11;31;32;0;1;2", 
"discard;Deb;30;30;1;4;4", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;2;2;16;17;18;18;19;20;23;25;27;28;32;33;33", 
"clear", 
"discard;DebG;11;31;32;0;1;2", 
"discard;Deb;30;30;1;4;4;5", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;2;2;16;17;18;18;19;20;23;25;27;28;32;33;33", 
"turn", 
"1 [sent]", 
"clear", 
"discard;DebG;11;31;32;0;1;2;2", 
"discard;Deb;30;30;1;4;4;5", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;2;16;17;18;18;19;20;23;25;27;28;32;33;33", 
"clear", 
"discard;DebG;11;31;32;0;1;2;2", 
"discard;Deb;30;30;1;4;4;5;7", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;2;16;17;18;18;19;20;23;25;27;28;32;33;33", 
"turn", 
"1 [sent]", 
"clear", 
"discard;DebG;11;31;32;0;1;2;2;2", 
"discard;Deb;30;30;1;4;4;5;7", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;16;17;18;18;19;20;23;25;27;28;32;33;33", 
"clear", 
"discard;DebG;11;31;32;0;1;2;2;2", 
"discard;Deb;30;30;1;4;4;5;7;8", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;16;17;18;18;19;20;23;25;27;28;32;33;33", 
"turn", 
"1 [sent]", 
"clear", 
"discard;DebG;11;31;32;0;1;2;2;2;16", 
"discard;Deb;30;30;1;4;4;5;7;8", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;17;18;18;19;20;23;25;27;28;32;33;33", 
"clear", 
"discard;DebG;11;31;32;0;1;2;2;2;16", 
"discard;Deb;30;30;1;4;4;5;7;8;10", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;17;18;18;19;20;23;25;27;28;32;33;33", 
"turn", 
"1 [sent]", 
"clear", 
"discard;DebG;11;31;32;0;1;2;2;2;16;17", 
"discard;Deb;30;30;1;4;4;5;7;8;10", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;18;18;19;20;23;25;27;28;32;33;33", 
"clear", 
"discard;DebG;11;31;32;0;1;2;2;2;16;17", 
"discard;Deb;30;30;1;4;4;5;7;8;10;12", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;18;18;19;20;23;25;27;28;32;33;33", 
"turn", 
"1 [sent]", 
"clear", 
"discard;DebG;11;31;32;0;1;2;2;2;16;17;18", 
"discard;Deb;30;30;1;4;4;5;7;8;10;12", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;18;19;20;23;25;27;28;32;33;33", 
"clear", 
"discard;DebG;11;31;32;0;1;2;2;2;16;17;18", 
"discard;Deb;30;30;1;4;4;5;7;8;10;12;13", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;18;19;20;23;25;27;28;32;33;33", 
"turn", 
"1 [sent]", 
"clear", 
"discard;DebG;11;31;32;0;1;2;2;2;16;17;18;18", 
"discard;Deb;30;30;1;4;4;5;7;8;10;12;13", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;19;20;23;25;27;28;32;33;33", 
"clear", 
"discard;DebG;11;31;32;0;1;2;2;2;16;17;18;18", 
"discard;Deb;30;30;1;4;4;5;7;8;10;12;13;17", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;19;20;23;25;27;28;32;33;33", 
"turn", 
"1 [sent]", 
"clear", 
"discard;DebG;11;31;32;0;1;2;2;2;16;17;18;18;19", 
"discard;Deb;30;30;1;4;4;5;7;8;10;12;13;17", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;20;23;25;27;28;32;33;33", 
"clear", 
"discard;DebG;11;31;32;0;1;2;2;2;16;17;18;18;19", 
"discard;Deb;30;30;1;4;4;5;7;8;10;12;13;17;19", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;20;23;25;27;28;32;33;33", 
"turn", 
"1 [sent]", 
"clear", 
"discard;DebG;11;31;32;0;1;2;2;2;16;17;18;18;19;20", 
"discard;Deb;30;30;1;4;4;5;7;8;10;12;13;17;19", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;23;25;27;28;32;33;33", 
"clear", 
"discard;DebG;11;31;32;0;1;2;2;2;16;17;18;18;19;20", 
"discard;Deb;30;30;1;4;4;5;7;8;10;12;13;17;19;23", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;23;25;27;28;32;33;33", 
"turn", 
"1 [sent]", 
"clear", 
"discard;DebG;11;31;32;0;1;2;2;2;16;17;18;18;19;20;23", 
"discard;Deb;30;30;1;4;4;5;7;8;10;12;13;17;19;23", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;25;27;28;32;33;33", 
"clear", 
"discard;DebG;11;31;32;0;1;2;2;2;16;17;18;18;19;20;23", 
"discard;Deb;30;30;1;4;4;5;7;8;10;12;13;17;19;23;24", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;25;27;28;32;33;33", 
"turn", 
"1 [sent]", 
"clear", 
"discard;DebG;11;31;32;0;1;2;2;2;16;17;18;18;19;20;23;25", 
"discard;Deb;30;30;1;4;4;5;7;8;10;12;13;17;19;23;24", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;27;28;32;33;33", 
"clear", 
"discard;DebG;11;31;32;0;1;2;2;2;16;17;18;18;19;20;23;25", 
"discard;Deb;30;30;1;4;4;5;7;8;10;12;13;17;19;23;24;24", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;27;28;32;33;33", 
"turn", 
"1 [sent]", 
"clear", 
"discard;DebG;11;31;32;0;1;2;2;2;16;17;18;18;19;20;23;25;27", 
"discard;Deb;30;30;1;4;4;5;7;8;10;12;13;17;19;23;24;24", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;28;32;33;33", 
"clear", 
"discard;DebG;11;31;32;0;1;2;2;2;16;17;18;18;19;20;23;25;27", 
"discard;Deb;30;30;1;4;4;5;7;8;10;12;13;17;19;23;24;24;25", 
"hand;4;5;5;6;6;6;7;11;12;13;19;20;21", 
"discard_item;28;32;33;33", 
"draw", 
"continue", 
"exit [sent]",
"clear",
"quit",
"state;1;17_2;17steps 2P;2",
"state;2;17_3;17steps 3P;3",
"state;3;16;16steps (const.);3",
"continue [sent]", 
"make_hand;0;1;1;1;1;5;5;7;8;9;10;11;12;14;14;14;15;16;16;19;19;21;21;23;25;26;26;27;27;28;29;30;31;31", 
"14;14;14;1;1;1;10;11;12;15;16;21;21 [sent]", 
"clear", 

"discard;Deb;", 
"discard;DebG;", 
"hand;1;1;1;10;11;12;14;14;14;15;16;21;21", 
"discard_item;0;1;5;5;7;8;9;16;19;19;23;25;26;26;27;27;28;29;30;31;31"
],
// case: finish
[
    "discard;Deb;18;28", 
    "discard;DebO;22;26;28", 
    "hand;2;3;4;6;7;8;10;10;10;17;17;21;22", 
    "discard_item;0;0;1;1;6;11;14;18;19;21;25;26;27;28;30;30;31;31;32", 
    "turn", 
    "clear", 
    "discard;Deb;18;28;28", 
    "discard;DebO;22;26;28", 
    "hand;1;2;3;4;5;14;15;16;23;24;24;24;25", 
    "discard_item;5;8;9;11;11;16;17;18;19;19;20;21;27;27;29;30;31;31;32;33", 
    "finish", 
    "final_hands;DebO;2;3;4;6;7;8;13;11;12;17;17;21;22;20", 
    "continue",
    "make_hand;0;1;4;4;4;6;8;10;11;11;11;12;14;15;18;19;20;23;23;25;26;26;26;27;27;27;28;30;30;31;31;32;33;33"
],
];

var debug_play17 = function() {
    const name = "DebG";
    $("div#ui").hide();
    $("#loginState").html('Login: ' + name);
    $("input#loginName").val(name);
    $("div#titlebox").hide();
    $("div#presentation").show();
    $( "#commandbutton" ).click(function(){ ws_send($("input#command").val());});
    $("#titlebox, #lobby").hide();
    lobby_room("game_start;17".split(DIV));

    let cmds = TESTPATTERN[0].filter(v => v.indexOf("[sent]") < 0);//.slice(0,1);//.slice(0,12);

    const run_test = (i) => {
	if (cmds.length <= i) return;
	console.log(cmds[i]);
	setTimeout(() => {
	    play17(cmds[i].split(DIV));
	    run_test(i + 1);
	}, 500);
    }
    run_test(0);
};

//$(debug_play17);
